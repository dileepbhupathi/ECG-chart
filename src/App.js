import React, { useEffect, useState } from "react";
import "./App.css";
import LiveECGChart from "./componenets/ECGChart/ECGChart";

function App() {
  // const ecgData = [
  //   30, 30, 30, 30, 30, 30, 30, 30, 30, 60, 45, 9, 4, 28, 17, 51, 30, 30, 30,
  //   30, 30, 30, 55, 10, 25, 70, 30, 55, 10, 30, 30, 30, 30, 30, 30, 30, 5, 20,
  //   55, 60, 30, 75, 20, 30, 30, 30, 30, 30, 30, 30, 5, 25, 70, 45, 55, 35, 15,
  //   30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 50, 20, 40, 15, 35, 10, 25, 10,
  //   30, 30, 30, 30, 30, 30, 30, 30, 76, 46, 24, 5, 35, 55, 25, 30, 60, 30, 10,
  //   35, 55, 30, 30,
  // ];

  // const [data, setData] = useState([]);

  // useEffect(() => {
  //   const fetchData = async () => {
  //     try {
  //       const response = await fetch("http://localhost:8000/AnnotatedECG");
  //       const newData = await response.json();
  //       // console.log("r", newData);

  //       setData(
  //         newData?.component?.series?.derivation?.derivedSeries?.component?.sequenceSet?.component.slice(
  //           1
  //         )
  //       );
  //     } catch (error) {
  //       console.error("Error fetching data:", error);
  //     }
  //   };

  //   fetchData();

  //   const intervalId = setInterval(fetchData, 350);

  //   return () => clearInterval(intervalId);
  // }, []);

  // ............ sample data .....................//

  // const ecgData = [
  //   180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130,
  //   13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800, -400, 300,
  //   -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10,
  //   110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14,
  //   214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150,
  //   800, -400, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200,
  //   -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12,
  //   -12, 110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144,
  //   14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200,
  //   250, -100, -150, 800, -400, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150,
  //   -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120,
  //   120, -212, 12, -11, 12, -12, 110, -10, 110, -80, 90, -290, 100, -100, 100,
  //   -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300,
  //   -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216,
  //   15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0,
  //   0, 0, 100, -100, 200, 250, -100, -150, 800, -400, 300, -150, 0, 0, 0, 0, 0,
  //   0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, -11, -120, 120, -212,
  // ];

  // const ecgData = [
  //   180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130,
  //   13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800, -350, 300,
  //   -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10,
  //   110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14,
  //   214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150,
  //   800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200,
  //   -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12,
  //   -12, 110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144,
  //   14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200,
  //   250, -100, -150, 800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150,
  //   -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120,
  //   120, -212, 12, -11, 12, -12, 110, -10, 110, -80, 90, -290, 100, -100, 100,
  //   -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300,
  //   -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216,
  //   15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0,
  //   0, 0, 100, -100, 200, 250, -100, -150, 800, -350, 300, -150, 0, 0, 0, 0, 0,
  //   0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110, -80, 90, -290,
  //   100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100,
  //   10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180,
  //   160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130, 13,
  //   0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800, -350, 300, -150,
  //   0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110,
  //   -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214,
  //   114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800,
  //   -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12,
  //   110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150,
  //   215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100,
  //   -150, 800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90,
  //   200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12,
  //   -11, 12, -12, 110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160,
  //   316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100,
  //   -100, 200, 250, -100, -150, 800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200,
  //   -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110, -80, 90, -290, 100,
  //   -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10,
  //   -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160,
  //   116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0,
  //   0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800, -350, 300, -150, 0, 0,
  //   0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110, -80,
  //   90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214,
  //   114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800,
  //   -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12,
  //   110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160, 316, 144, 14, 150,
  //   215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100, -100, 200, 250, -100,
  //   -150, 800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200, -100, 150, -50, 100, -90,
  //   200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -11, -120, 120, -212, 12,
  //   -11, 12, -12, 110, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160, 116, 216, 15, 115, 160,
  //   316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0, 0, 0, 0, 0, 0, 100,
  //   -100, 200, 250, -100, -150, 800, -350, 300, -150, 0, 0, 0, 0, 0, 0, 200,
  //   -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110, -80, 90, -290, 100,
  //   -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, -100, 10,
  //   -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 160,
  //   116, 216, 15, 115, 160, 316, 144, 14, 150, 215, 14, 214, 114, 130, 13, 0, 0,
  //   0, 0, 0, 0, 0, 100, -100, 200, 250, -100, -150, 800, -350, 300, -150, 0, 0,
  //   0, 0, 0, 0, 200, -100, 150, -50, 100, -90, 200, -250, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, -11, -120, 120, -212, 12, -11, 12, -12, 110, -10, 110, -80,
  //   90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  //   0, 0, -10, 110, -80, 90, -290, 100, -100, 100, -105, 80, 290, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 100, -100, 10, -50, 300, -200, 100, -100, 0, 0, 0, 0, 0,
  //   0, 0, 0, 0, 0, 0, 0, 0, 0,
  // ];
  const ecgData =
    "-0.9 -0.005 -0.005 -0.005 -0.005 -0.0075 -0.01 -0.0075 -0.0125 -0.0125 -0.01 -0.015 -0.0225 -0.0225 -0.02 -0.015 -0.01 -0.015 -0.025 -0.025 -0.025 -0.0225 -0.0225 -0.0225 -0.0175 -0.0175 -0.0175 -0.0175 -0.015 -0.0075 -0.0075 -0.005 0 0.0025 0.0025 0.005 0 -0.005 -0.01 -0.0125 -0.0125 -0.0075 -0.01 -0.0125 -0.015 -0.015 -0.01 -0.0075 -0.01 -0.0125 -0.0175 -0.0175 -0.0125 -0.015 -0.01 -0.005 -0.0075 -0.0025 -0.0025 0.005 0.0075 0.0075 0.0125 0.5 0.0175 0.0175 0.015 0.0075 0.0075 0 0 0.01 0.02 0.0175 0.0175 0.0175 0.03 0.035 0.0375 0.04 0.04 0.04 0.045 0.0525 0.0625 0.065 0.0575 0.0625 0.0625 0.0575 0.07 0.08 0.09 0.095 0.0975 0.0975 0.0975 0.09 0.0875 0.08 0.0725 0.07 0.0675 0.0675 0.0625 0.0475 0.0325 0.0175 0.0125 0.0025 0 -0.0075 -0.015 -0.02 -0.015 -0.01 -0.0075 -0.015 -0.02 -0.025 -0.025 -0.025 -0.02 -0.015 -0.0125 -0.0075 -0.005 -0.005 -0.0075 -0.01 -0.0125 -0.0125 -0.01 -0.015 -0.015 -0.0225 -0.025 -0.03 -0.03 -0.0325 -0.045 -0.055 -0.0725 -0.0825 -0.09 -0.1075 -0.1225 -0.14 -0.16 -0.175 -0.1775 -0.175 -0.1725 -0.155 -0.135 -0.1075 -0.07 -0.0375 -0.005 0.025 0.0625 0.105 0.14 0.17 0.2075 0.25 0.3 0.335 0.3475 0.3375 0.3175 0.29 0.255 0.2175 0.1825 0.15 0.1175 0.085 0.0575 0.0425 0.0375 0.025 0.0175 0.015 0.0125 0.01 -0.0025 0.0025 0.005 0.005 0.0025 -0.005 -0.0125 -0.015 -0.015 -0.0125 -0.0075 -0.0075 -0.01 -0.01 -0.005 0 -0.005 -0.005 -0.005 -0.0025 -0.0025 -0.0125 -0.015 -0.0175 -0.0175 -0.02 -0.02 -0.0225 -0.025 -0.025 -0.0275 -0.0275 -0.02 -0.015 -0.0075 -0.01 -0.0125 -0.0125 -0.01 -0.01 -0.01 -0.0075 -0.0075 -0.01 -0.01 -0.0075 -0.01 -0.0075 -0.005 0.0025 0.005 -0.0025 -0.005 -0.0075 -0.0075 -0.0075 -0.0075 -0.0075 -0.01 -0.015 -0.01 -0.0025 -0.0025 -0.005 0 0.005 0.0075 0.015 0.02 0.0175 0.01 0.005 0.005 0.0025 0.0025 0 0 0.005 0.0025 -0.005 -0.0075 -0.0075 0 0.0075 0.0125 0.01 0.0025 -0.0025 -0.0025 -0.0025 -0.0075 -0.0075 -0.0025 -0.0025 -0.0025 -0.005 -0.005 -0.0025 -0.0025 -0.0125 -0.0175 -0.025 -0.025 -0.025 -0.0275 -0.0275 -0.0225 -0.02 -0.02 -0.025 -0.025 -0.0275 -0.02 -0.0175 -0.015 -0.02 -0.02 -0.0125 -0.015 -0.0175 -0.0175 -0.0175 -0.025 -0.0275 -0.0225 -0.0275 -0.0275 -0.035 -0.0425 -0.0425 -0.0375 -0.0325 -0.035 -0.0325 -0.005 -0.005 -0.005 -0.005 -0.0075 -0.01 -0.0075 -0.0125 -0.0125 -0.01 -0.015 -0.0225 -0.0225 -0.02 -0.015 -0.01 -0.015 -0.025 -0.025 -0.025 -0.0225 -0.0225 -0.0225 -0.0175 -0.0175 -0.0175 -0.0175 -0.015 -0.0075 -0.0075 -0.005 0 0.0025 0.0025 0.005 0 -0.005 -0.01 -0.0125 -0.0125 -0.0075 -0.01 -0.0125 -0.015 -0.015 -0.01 -0.0075 -0.01 -0.0125 -0.0175 -0.0175 -0.0125 -0.015 -0.01 -0.005 -0.0075 -0.0025 -0.0025 0.005 0.0075 0.0075 0.0125 0.0175 0.0175 0.015 0.0075 0.0075 0 0 0.01 0.02 0.0175 0.0175 0.0175 0.03 0.035 0.0375 0.04 0.04 0.04 0.045 0.0525 0.0625 0.065 0.0575 0.0625 0.0625 0.0575 0.07 0.08 0.09 0.095 0.0975 0.0975 0.0975 0.09 0.0875 0.08 0.0725 0.07 0.0675 0.0675 0.0625 0.0475 0.0325 0.0175 0.0125 0.0025 0 -0.0075 -0.015 -0.02 -0.015 -0.01 -0.0075 -0.015 -0.02 -0.025 -0.025 -0.025 -0.02 -0.015 -0.0125 -0.0075 -0.005 -0.005 -0.0075 -0.01 -0.0125 -0.0125 -0.01 -0.015 -0.015 -0.0225 -0.025 -0.03 -0.03 -0.0325 -0.045 -0.055 -0.0725 -0.0825 -0.09 -0.1075 -0.1225 -0.14 -0.16 -0.175 -0.1775 -0.175 -0.1725 -0.155 -0.135 -0.1075 -0.07 -0.0375 -0.005 0.025 0.0625 0.105 0.14 0.17 0.2075 0.25 0.3 0.335 0.3475 0.3375 0.3175 0.29 0.255 0.2175 0.1825 0.15 0.1175 0.085 0.0575 0.0425 0.0375 0.025 0.0175 0.015 0.0125 0.01 -0.0025 0.0025 0.005 0.005 0.0025 -0.005 -0.0125 -0.015 -0.015 -0.0125 -0.0075 -0.0075 -0.01 -0.01 -0.005 0 -0.005 -0.005 -0.005 -0.0025 -0.0025 -0.0125 -0.015 -0.0175 -0.0175 -0.02 -0.02 -0.0225 -0.025 -0.025 -0.0275 -0.0275 -0.02 -0.015 -0.0075 -0.01 -0.0125 -0.0125 -0.01 -0.01 -0.01 -0.0075 -0.0075 -0.01 -0.01 -0.0075 -0.01 -0.0075 -0.005 0.0025 0.005 -0.0025 -0.005 -0.0075 -0.0075 -0.0075 -0.0075 -0.0075 -0.01 -0.015 -0.01 -0.0025 -0.0025 -0.005 0 0.005 0.0075 0.015 0.02 0.0175 0.01 0.005 0.005 0.0025 0.0025 0 0 0.005 0.0025 -0.005 -0.0075 -0.0075 0 0.0075 0.0125 0.01 0.0025 -0.0025 -0.0025 -0.0025 -0.0075 -0.0075 -0.0025 -0.0025 -0.0025 -0.005 -0.005 -0.0025 -0.0025 -0.0125 -0.0175 -0.025 -0.025 -0.025 -0.0275 -0.0275 -0.0225 -0.02 -0.02 -0.025 -0.025 -0.0275 -0.02 -0.0175 -0.015 -0.02 -0.02 -0.0125 -0.015 -0.0175 -0.0175 -0.0175 -0.025 -0.0275 -0.0225 -0.0275 -0.0275 -0.035 -0.0425 -0.0425 -0.0375 -0.0325 -0.035 -0.0325 0.5 -0.2 0.1 0 0 0 0 0 0.2 0.4 -0.2 0.9";
  console.log("e", ecgData.split(" ").length);

  return (
    <div className="ecg-chart-container">
      {/* {data.map((each, index) => ( */}
      <div className="ecg-chart-item-container">
        <LiveECGChart data={ecgData.split(" ")} />
      </div>
      {/* ))} */}
    </div>
  );
}

export default App;

// ----------------- required -----------------

// each.sequence.value.digits.split("")
